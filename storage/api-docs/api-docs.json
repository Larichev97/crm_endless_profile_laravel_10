{
    "openapi": "3.0.0",
    "info": {
        "title": "Endless Profile API documentation",
        "version": "1.0.0"
    },
    "paths": {
        "/api/v1/": {},
        "/api/v1/qrs/{id}": {
            "get": {
                "tags": [
                    "QR Profile"
                ],
                "summary": "Получение данных о конкретном QR-профиле",
                "operationId": "2e48ee75cf271f6fbbe43a5217c81c62",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "ID QR-профиля",
                        "required": true,
                        "example": 1
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Success",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "data": {
                                            "properties": {
                                                "id": {
                                                    "description": "ID клиента, с которым будет связан QR-профиль человека",
                                                    "type": "integer",
                                                    "example": 1
                                                },
                                                "country": {
                                                    "description": "Название страны, в которой был рождён человек из QR-профиля",
                                                    "type": "string",
                                                    "example": "Украина"
                                                },
                                                "city": {
                                                    "description": "Название города, в котором был рождён человек из QR-профиля",
                                                    "type": "string",
                                                    "example": "Днепр"
                                                },
                                                "birth_date": {
                                                    "description": "Дата рождения человека из QR-профиля",
                                                    "type": "string",
                                                    "example": "25.05.1985"
                                                },
                                                "death_date": {
                                                    "description": "Дата смерти человека из QR-профиля",
                                                    "type": "string",
                                                    "example": "16.11.2020"
                                                },
                                                "full_name": {
                                                    "description": "ФИО человека из QR-профиля",
                                                    "type": "string",
                                                    "example": "Тестовая Мария Тестовна"
                                                },
                                                "firstname": {
                                                    "description": "Имя человека из QR-профиля",
                                                    "type": "string",
                                                    "example": "Мария"
                                                },
                                                "lastname": {
                                                    "description": "Фамилия человека из QR-профиля",
                                                    "type": "string",
                                                    "example": "Тестовая"
                                                },
                                                "surname": {
                                                    "description": "Отчество человека из QR-профиля",
                                                    "type": "string",
                                                    "example": "Тестовна"
                                                },
                                                "cause_death": {
                                                    "description": "Причина смерти человека из QR-профиля",
                                                    "type": "string",
                                                    "example": "Сердечный приступ"
                                                }
                                            },
                                            "type": "object"
                                        },
                                        "profession": {
                                            "description": "Профессия человека из QR-профиля",
                                            "type": "string",
                                            "example": "Секретарь"
                                        },
                                        "hobbies": {
                                            "description": "Хобби человека из QR-профиля",
                                            "type": "string",
                                            "example": "Рисование, велосипед, кино"
                                        },
                                        "biography": {
                                            "description": "Биография человека из QR-профиля",
                                            "type": "string",
                                            "example": "Мария — творческая натура, обожающая рисовать утренние пейзажи и городские силуэты. В свободное время любит покататься на велосипеде, исследуя улочки города. Часто посещает кинотеатры и наслаждается просмотром разнообразных фильмов. В течение нескольких лет работала в качестве секретаря в уютном офисе, где находила радость в организации рабочего процесса и поддержке коллег."
                                        },
                                        "last_wish": {
                                            "description": "Последнее желание человека из QR-профиля",
                                            "type": "string",
                                            "example": "Мария желала, чтобы ее последнее мгновение было окружено уютом, мелодиями любимой музыки и в объятиях близких людей."
                                        },
                                        "favourite_music_artist": {
                                            "description": "Любимая музыкальная группа человека из QR-профиля",
                                            "type": "string",
                                            "example": "The Beatles"
                                        },
                                        "link": {
                                            "description": "Ссылка на внешний источник",
                                            "type": "string",
                                            "example": "https://google.com"
                                        },
                                        "geo_latitude": {
                                            "description": "Географическая широта места захоронения [где находится QR-код]",
                                            "type": "string",
                                            "example": "-37.397325"
                                        },
                                        "geo_longitude": {
                                            "description": "Географическая долгота места захоронения [где находится QR-код]",
                                            "type": "string",
                                            "example": "92.499078"
                                        },
                                        "photo_file_name": {
                                            "type": "string",
                                            "example": "1703167599.jpg"
                                        },
                                        "photo_file_path": {
                                            "type": "string",
                                            "example": "https://crm-qr-laravel.loc/storage/qr/1/1703167599.jpg"
                                        },
                                        "voice_message_file_name": {
                                            "type": "string",
                                            "example": "test_voice.mp3"
                                        },
                                        "voice_message_file_path": {
                                            "type": "string",
                                            "example": "https://crm-qr-laravel.loc/storage/qr/1/test_voice.mp3"
                                        },
                                        "qr_code_file_name": {
                                            "type": "string",
                                            "example": "qr_code.png"
                                        },
                                        "qr_code_file_path": {
                                            "type": "string",
                                            "example": "https://crm-qr-laravel.loc/storage/qr/1/qr_code.png"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Bad request"
                    },
                    "404": {
                        "description": "Not Found 404",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "error": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "QR Profile not found."
                                        },
                                        "id": {
                                            "type": "integer",
                                            "example": "1"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/v1/qrs": {
            "post": {
                "tags": [
                    "QR Profile"
                ],
                "summary": "Создание нового QR профиля (необходим Bearer Token: a1b2c3d4e5f6g7h8i9j0)",
                "operationId": "f88c82aa17aa03a3d7bf31f72a17533f",
                "requestBody": {
                    "required": true,
                    "content": {
                        "multipart/form-data": {
                            "schema": {
                                "required": [
                                    "id_client",
                                    "id_country",
                                    "id_city",
                                    "firstname",
                                    "lastname"
                                ],
                                "properties": {
                                    "id_client": {
                                        "description": "ID клиента, с которым будет связан QR-профиль человека",
                                        "type": "integer",
                                        "example": 1
                                    },
                                    "id_country": {
                                        "description": "ID страны, в которой был рождён человек из QR-профиля",
                                        "type": "integer",
                                        "example": 1
                                    },
                                    "id_city": {
                                        "description": "ID города, в котором был рождён человек из QR-профиля",
                                        "type": "integer",
                                        "example": 1
                                    },
                                    "firstname": {
                                        "description": "Имя человека из QR-профиля",
                                        "type": "string",
                                        "example": "Мария"
                                    },
                                    "lastname": {
                                        "description": "Фамилия человека из QR-профиля",
                                        "type": "string",
                                        "example": "Тестовая"
                                    },
                                    "surname": {
                                        "description": "Отчество человека из QR-профиля",
                                        "type": "string",
                                        "example": "Тестовна"
                                    },
                                    "birth_date": {
                                        "description": "Дата рождения человека из QR-профиля",
                                        "type": "string",
                                        "format": "date",
                                        "example": "1985-05-25"
                                    },
                                    "death_date": {
                                        "description": "Дата смерти человека из QR-профиля",
                                        "type": "string",
                                        "format": "date",
                                        "example": "2020-11-16"
                                    },
                                    "cause_death": {
                                        "description": "Причина смерти человека из QR-профиля",
                                        "type": "string",
                                        "example": "Сердечный приступ"
                                    },
                                    "profession": {
                                        "description": "Профессия человека из QR-профиля",
                                        "type": "string",
                                        "example": "Секретарь"
                                    },
                                    "hobbies": {
                                        "description": "Хобби человека из QR-профиля",
                                        "type": "string",
                                        "example": "Рисование, велосипед, кино"
                                    },
                                    "biography": {
                                        "description": "Биография человека из QR-профиля",
                                        "type": "string",
                                        "example": "Мария — творческая натура..."
                                    },
                                    "last_wish": {
                                        "description": "Последнее желание человека из QR-профиля",
                                        "type": "string",
                                        "example": "Мария желала..."
                                    },
                                    "favourite_music_artist": {
                                        "description": "Любимая музыкальная группа человека из QR-профиля",
                                        "type": "string",
                                        "example": "The Beatles"
                                    },
                                    "link": {
                                        "description": "Ссылка на внешний источник",
                                        "type": "string",
                                        "format": "url",
                                        "example": "https://google.com"
                                    },
                                    "geo_latitude": {
                                        "description": "Географическая широта места захоронения [где будет находится QR-код]",
                                        "type": "string",
                                        "example": "-37.397325"
                                    },
                                    "geo_longitude": {
                                        "description": "Географическая долгота места захоронения [где будет находится QR-код]",
                                        "type": "string",
                                        "example": "92.499078"
                                    },
                                    "photo_file": {
                                        "description": "Фотография для QR-профиля. Допускаются форматы: jpg, jpeg, png. Максимальный размер файла 4 МБ.",
                                        "type": "string",
                                        "format": "binary"
                                    },
                                    "voice_message_file": {
                                        "description": "Файл аудиозаписи для QR-профиля. Допускаются форматы: mp3, wav, ogg, flac. Максимальный размер файла 10 МБ.",
                                        "type": "string",
                                        "format": "binary"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "QR профиль успешно создан",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "data": {
                                            "properties": {
                                                "id": {
                                                    "type": "integer",
                                                    "example": 1
                                                },
                                                "country": {
                                                    "type": "string",
                                                    "example": "Украина"
                                                },
                                                "city": {
                                                    "type": "string",
                                                    "example": "Днепр"
                                                },
                                                "birth_date": {
                                                    "type": "string",
                                                    "example": "1985-05-25"
                                                },
                                                "death_date": {
                                                    "type": "string",
                                                    "example": "2020-11-16"
                                                },
                                                "full_name": {
                                                    "type": "string",
                                                    "example": "Тестовая Мария Тестовна"
                                                },
                                                "firstname": {
                                                    "type": "string",
                                                    "example": "Мария"
                                                },
                                                "lastname": {
                                                    "type": "string",
                                                    "example": "Тестовая"
                                                },
                                                "surname": {
                                                    "type": "string",
                                                    "example": "Тестовна"
                                                },
                                                "cause_death": {
                                                    "type": "string",
                                                    "example": "Сердечный приступ"
                                                },
                                                "profession": {
                                                    "type": "string",
                                                    "example": "Секретарь"
                                                },
                                                "hobbies": {
                                                    "type": "string",
                                                    "example": "Рисование, велосипед, кино"
                                                },
                                                "biography": {
                                                    "type": "string",
                                                    "example": "Мария — творческая натура..."
                                                },
                                                "last_wish": {
                                                    "type": "string",
                                                    "example": "Мария желала..."
                                                },
                                                "favourite_music_artist": {
                                                    "type": "string",
                                                    "example": "The Beatles"
                                                },
                                                "link": {
                                                    "type": "string",
                                                    "example": "https://google.com"
                                                },
                                                "geo_latitude": {
                                                    "type": "string",
                                                    "example": "-37.397325"
                                                },
                                                "geo_longitude": {
                                                    "type": "string",
                                                    "example": "92.499078"
                                                },
                                                "photo_file_name": {
                                                    "type": "string",
                                                    "example": "1703167599.jpg"
                                                },
                                                "photo_file_path": {
                                                    "type": "string",
                                                    "example": "https://crm-qr-laravel.loc/storage/qr/1/1703167599.jpg"
                                                },
                                                "voice_message_file_name": {
                                                    "type": "string",
                                                    "example": "test_voice.mp3"
                                                },
                                                "voice_message_file_path": {
                                                    "type": "string",
                                                    "example": "https://crm-qr-laravel.loc/storage/qr/1/test_voice.mp3"
                                                },
                                                "qr_code_file_name": {
                                                    "type": "string",
                                                    "example": "qr_code.png"
                                                },
                                                "qr_code_file_path": {
                                                    "type": "string",
                                                    "example": "https://crm-qr-laravel.loc/storage/qr/1/qr_code.png"
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthenticated",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Unauthenticated."
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Невалидные данные",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "error": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Unable to create a Qr Profile due to incorrect data"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "Внутренняя ошибка сервера",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "error": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Something went wrong"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        }
    }
}
